!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("bemquery-selector-converter"),require("bemquery-selector-engine")):"function"==typeof define&&define.amd?define(["exports","bemquery-selector-converter","bemquery-selector-engine"],n):n(e.bemquery=e.bemquery||{},e.bemquerySelectorConverter,e.bemquerySelectorEngine)}(this,function(e,n,t){"use strict";function r(e){return"object"===("undefined"==typeof e?"undefined":l(e))&&"function"==typeof e.convert}function o(e){return"object"===("undefined"==typeof e?"undefined":l(e))&&"function"==typeof e.find}function i(e){return e instanceof m&&(e=e.elements[0]),e instanceof HTMLElement||e===document||(e=document),e}function u(e,n,t,r){if(!e)throw new TypeError("Selector must be set.");if("string"==typeof e)return e=t.convert(e).CSS,r.find(e,n);if(e instanceof HTMLElement)return[e];if(e instanceof m)return e.elements;if("object"===("undefined"==typeof e?"undefined":l(e)))return Array.from(e);throw new TypeError("Selector must be a string, object, array or DOM element.")}function c(e,n){Object.defineProperty(e,"elements",{value:n}),e.elements.forEach(function(n,t){Object.defineProperty(e,t,{enumerable:!0,get:function(){return new m(this.elements[t],document,this.converter,this.selectorEngine)}})},e),Object.defineProperty(e,"length",{enumerable:!0,get:function(){return this.elements.length}})}function f(e){var r=arguments.length<=1||void 0===arguments[1]?document:arguments[1],o=n(),i=new t,u=new m(e,r,o,i);return u}n="default"in n?n.default:n,t="default"in t?t.default:t;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),m=function(){function e(n,t,f,l){if(s(this,e),!r(f))throw new TypeError("Converter must be an object with convert method defined.");if(!o(l))throw new TypeError("SelectorEngine must be an object with find method defined.");this.converter=f,this.selectorEngine=l,t=i(t),c(this,u(n,t,f,l))}return a(e,[{key:"get",value:function(n){if(n=Number(n),Number.isNaN(n))throw new TypeError("Index must be a correct Number.");if(n<0)throw new RangeError("Index must be greater or equal to 0.");if(n>this.elements.length-1)throw new RangeError("Index cannot be greater than collection's length.");return new e(this.elements[n],document,this.converter,this.selectorEngine)}},{key:"each",value:function(n){if("function"!=typeof n)throw new TypeError("Callback must be a function.");var t=this.converter,r=this.selectorEngine;return this.elements.forEach(function(o){n(new e(o,document,t,r))}),this}},{key:Symbol.iterator,value:function(){var n=0,t=this.elements,r=this.converter,o=this.selectorEngine;return{next:function(){if(n<t.length){var i=t[n++];return{value:new e([i],document,r,o),done:!1}}return{done:!0}}}}}]),e}();e.BEMQuery=m,e.default=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=bemquery-core.es5.js.map
